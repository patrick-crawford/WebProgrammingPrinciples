"use strict";(self.webpackChunkOERTemplate=self.webpackChunkOERTemplate||[]).push([[761],{6287:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"DOM-Events/Practice-Exercise","title":"Practice Exercise","description":"Practice Exercise","source":"@site/docs/DOM-Events/Practice-Exercise.md","sourceDirName":"DOM-Events","slug":"/DOM-Events/Practice-Exercise","permalink":"/WebProgrammingPrinciples/DOM-Events/Practice-Exercise","draft":false,"unlisted":false,"editUrl":"https://github.com/catherine-leung/OERTemplate/tree/main/docs/DOM-Events/Practice-Exercise.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"Practice-Exercise","title":"Practice Exercise","sidebar_position":3,"description":"Practice Exercise"},"sidebar":"courseNotesSidebar","previous":{"title":"Events & Timers","permalink":"/WebProgrammingPrinciples/DOM-Events/Events-Timers"},"next":{"title":"TODO","permalink":"/WebProgrammingPrinciples/CSS-Styling/TODO"}}');var s=t(4848),c=t(8453);const r={id:"Practice-Exercise",title:"Practice Exercise",sidebar_position:3,description:"Practice Exercise"},o="Practice Exercise",a={},l=[];function d(e){const n={a:"a",code:"code",em:"em",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,c.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"practice-exercise",children:"Practice Exercise"})}),"\n",(0,s.jsx)(n.p,{children:"In this exercise, we will practice working with HTML, images, URLs, the DOM,\nevents, and JavaScript to create an interactive web page."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a ",(0,s.jsx)(n.strong,{children:"folder"})," called ",(0,s.jsx)(n.code,{children:"cats"})," on your computer"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a ",(0,s.jsx)(n.strong,{children:"file"})," inside the ",(0,s.jsx)(n.code,{children:"cats"})," folder named ",(0,s.jsx)(n.code,{children:"index.html"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Open a ",(0,s.jsx)(n.strong,{children:"terminal"})," to your ",(0,s.jsx)(n.code,{children:"cats"})," folder (i.e., ",(0,s.jsx)(n.code,{children:"cd cats"}),")"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In your ",(0,s.jsx)(n.strong,{children:"terminal"}),", start a web server by running the following command: ",(0,s.jsx)(n.code,{children:"npx http-server"})," (alternatively, you can use the command: ",(0,s.jsx)(n.code,{children:"npx lite-server"}),", refer week 5 notes)"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Open the ",(0,s.jsx)(n.code,{children:"cats"})," folder in Visual Studio Code"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Edit the ",(0,s.jsx)(n.code,{children:"index.html"})," file so it contains a ",(0,s.jsx)(n.a,{href:"/HTML-Fundamentals/HTML#basic-html5-document",children:"basic HTML5 web page"}),", including a ",(0,s.jsx)(n.code,{children:"<head>"}),", ",(0,s.jsx)(n.code,{children:"<body>"}),", etc. Try to do it from memory first, then look up what you've missed."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Save ",(0,s.jsx)(n.code,{children:"index.html"})," and try loading it in your browser by visiting your local web server at ",(0,s.jsx)(n.code,{children:"http://localhost:8080/index.html"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In your editor, modify the ",(0,s.jsx)(n.code,{children:"body"})," of your ",(0,s.jsx)(n.code,{children:"index.html"})," file to contain the text of the poem in ",(0,s.jsx)(n.a,{href:"TODO",children:"cats.txt"}),". Use HTML tags to markup the poem for the web. Your page should have a proper heading for the title, each line should break at the correct position, and the poet's name should be bold."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add an image of a cat to the page below the text. You can use ",(0,s.jsxs)(n.a,{href:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Six_weeks_old_cat_%28aka%29.jpg",children:["https://upload.wikimedia.org/wikipedia/commons/c/c1/Six",(0,s.jsx)(n.em,{children:"weeks_old_cat"}),"%28aka%29.jpg"]}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Adjust the ",(0,s.jsx)(n.code,{children:"width"})," of your image so it fits nicely on your page. What happens if you adjust the ",(0,s.jsx)(n.code,{children:"width"})," and ",(0,s.jsx)(n.code,{children:"height"}),"?"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create a new file in your ",(0,s.jsx)(n.code,{children:"cats"})," folder called ",(0,s.jsx)(n.code,{children:"script.js"}),". Add the following line of JavaScript:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"console.log('cats!');\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Add a ",(0,s.jsx)(n.code,{children:"script"})," element to the bottom of your ",(0,s.jsx)(n.code,{children:"body"})," (i.e., right before the closing ",(0,s.jsx)(n.code,{children:"</body>"})," tag). Set its ",(0,s.jsx)(n.code,{children:"src"})," to a file called ",(0,s.jsx)(n.code,{children:"script.js"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'    <script src="script.js"><\/script>\n</body>\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Refresh your web page in the browser, and open your browser's ",(0,s.jsx)(n.code,{children:"Dev Tools"}),", and ",(0,s.jsx)(n.code,{children:"Web Console"}),". Make sure you can see the ",(0,s.jsx)(n.code,{children:"cats!"})," message printed in the log."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Try changing ",(0,s.jsx)(n.code,{children:"cats!"})," in ",(0,s.jsx)(n.code,{children:"script.js"})," to some other message, save your ",(0,s.jsx)(n.code,{children:"script.js"})," file, and refresh your browser. Make sure your console updates with the new message."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Modify ",(0,s.jsx)(n.code,{children:"index.html"})," and update your ",(0,s.jsx)(n.code,{children:"<img>"})," tag: add an attribute ",(0,s.jsx)(n.code,{children:'id="cat-picture"'})," and remove the ",(0,s.jsx)(n.code,{children:'src="..."'}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'\x3c!-- NOTE: there is no longer a src attribute in our HTML, we\'ll do it JavaScript below --\x3e\n<img id="cat-picture" />\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Modify your ",(0,s.jsx)(n.code,{children:"script.js"})," file to add the following code:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"window.onload = function () {\n  let img = document.getElementById('cat-picture');\n  img.src =\n    'https://upload.wikimedia.org/wikipedia/commons/c/c1/Six_weeks_old_cat_%28aka%29.jpg';\n};\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Save your ",(0,s.jsx)(n.code,{children:"script.js"})," file and reload your browser. Do you still see a cat? If not, check your web console for any errors."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Modify your ",(0,s.jsx)(n.code,{children:"script.js"})," and change your cat URL used by ",(0,s.jsx)(n.code,{children:"img.src"})," to use ",(0,s.jsx)(n.a,{href:"https://cataas.com/cat",children:"https://cataas.com/cat"}),". The ",(0,s.jsx)(n.a,{href:"https://cataas.com/#/",children:"cataas.com"})," site provides cat pictures as a service via URL parameters. Save ",(0,s.jsx)(n.code,{children:"script.js"})," and reload your page a few times. Do you see a different cat each time?"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Modify your ",(0,s.jsx)(n.code,{children:"script.js"})," file to move your image code to a separate function. Make sure it still works the same way when you're done (save and test in your browser):"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"function loadCatPicture() {\n  let img = document.getElementById('cat-picture');\n  img.src = 'https://cataas.com/cat';\n}\n\nwindow.onload = loadCatPicture;\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Rewrite ",(0,s.jsx)(n.code,{children:"script.js"})," to update the picture after 5 seconds:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"function loadCatPicture() {\n  let img = document.getElementById('cat-picture');\n  img.src = 'https://cataas.com/cat';\n}\n\nwindow.onload = function () {\n  loadCatPicture();\n\n  // Call the loadCatPicture function again in 5s\n  setTimeout(loadCatPicture, 5 * 1_000 /* 5s = 5000ms */);\n};\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Rewrite ",(0,s.jsx)(n.code,{children:"script.js"})," to update the picture every 15 seconds, forever:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"function loadCatPicture() {\n  let img = document.getElementById('cat-picture');\n  img.src = 'https://cataas.com/cat';\n}\n\nwindow.onload = function () {\n  loadCatPicture();\n\n  // Call the loadCatPicture function every 15000ms\n  setInterval(loadCatPicture, 15 * 1_000 /* 15s = 15000ms */);\n};\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Rewrite ",(0,s.jsx)(n.code,{children:"script.js"})," to update the picture only when the user clicks somewhere in the window:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"function loadCatPicture() {\n  let img = document.getElementById('cat-picture');\n  img.src = 'https://cataas.com/cat';\n}\n\nwindow.onload = function () {\n  loadCatPicture();\n\n  // Call the loadCatPicture function when the user clicks in the window\n  window.onclick = loadCatPicture;\n};\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Modify ",(0,s.jsx)(n.code,{children:"index.html"})," and put a ",(0,s.jsx)(n.code,{children:"<div>...</div>"})," around all the text of the poem. Give your ",(0,s.jsx)(n.code,{children:"div"})," an ",(0,s.jsx)(n.code,{children:'id="poem-text"'})," attribute:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",children:'<div id="poem-text">\n  <p>Cats sleep anywhere, any table, any chair....</p>\n  ...\n</div>\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Rewrite ",(0,s.jsx)(n.code,{children:"script.js"})," to load the picture only when the user clicks on the text of the poem:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"function loadCatPicture() {\n  let img = document.getElementById('cat-picture');\n  img.src = 'https://cataas.com/cat';\n}\n\nlet poemText = document.getElementById('poem-text');\npoemText.onclick = loadCatPicture;\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Rewrite ",(0,s.jsx)(n.code,{children:"script.js"})," to also load the picture only when the user presses a key on the keyboard:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"function loadCatPicture() {\n  let img = document.getElementById('cat-picture');\n  img.src = 'https://cataas.com/cat';\n}\n\nlet poemText = document.getElementById('poem-text');\npoemText.onclick = loadCatPicture;\n\nwindow.onkeypress = function (event) {\n  let keyName = event.key;\n  console.log('Key Press event', keyName);\n  loadCatPicture();\n};\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Rewrite ",(0,s.jsx)(n.code,{children:"script.js"})," to also load the picture only when the user presses a key on the keyboard, but only one of ",(0,s.jsx)(n.code,{children:"b, m, s, n, p, x"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"function loadCatPicture() {\n  let img = document.getElementById('cat-picture');\n  img.src = 'https://cataas.com/cat';\n}\n\nlet poemText = document.getElementById('poem-text');\npoemText.onclick = loadCatPicture;\n\nwindow.onkeypress = function (event) {\n  let keyName = event.key;\n  console.log('Key Press event', keyName);\n\n  switch (keyName) {\n    case 'b':\n    case 'm':\n    case 's':\n    case 'n':\n    case 'p':\n    case 'x':\n      loadCatPicture();\n      break;\n    default:\n      console.log('Ignoring key press event');\n  }\n};\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Rewrite ",(0,s.jsx)(n.code,{children:"script.js"})," to also load the picture only when the user presses a key on the keyboard, but only one of ",(0,s.jsx)(n.code,{children:"b, m, s, n, p, x"}),", and load the picture with one of the supported ",(0,s.jsx)(n.a,{href:"https://cataas.com/#/",children:"cataas filters"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"function loadCatPicture(filter) {\n  let url = 'https://cataas.com/cat';\n  let img = document.getElementById('cat-picture');\n\n  // If the function is called with a filter argument, add that to URL\n  if (filter) {\n    console.log('Using cat picture filter', filter);\n    url += `?filter=${filter}`;\n  }\n\n  img.src = url;\n}\n\nlet poemText = document.getElementById('poem-text');\npoemText.onclick = function () {\n  loadCatPicture();\n};\n\nwindow.onkeypress = function (event) {\n  let keyName = event.key;\n  console.log('Key Press event', keyName);\n\n  switch (keyName) {\n    case 'b':\n      return loadCatPicture('blur');\n    case 'm':\n      return loadCatPicture('mono');\n    case 's':\n      return loadCatPicture('sepia');\n    case 'n':\n      return loadCatPicture('negative');\n    case 'p':\n      return loadCatPicture('paint');\n    case 'x':\n      return loadCatPicture('pixel');\n    default:\n      console.log('Ignoring key press event');\n  }\n};\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Rewrite ",(0,s.jsx)(n.code,{children:"script.js"})," so that we only load a new cat picture when the old picture is finished loading (don't send too many requests to the server). Also, add some ",(0,s.jsx)(n.a,{href:"https://www.keycdn.com/support/what-is-cache-busting",children:"cache busting"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"// Demonstrate using a closure, and use an immediately executing function to hide\n// an `isLoading` variable (i.e., not global), which will keep track of whether\n// or not an image is being loaded, so we can ignore repeated requests.\nlet loadCatPicture = (function () {\n  let isLoading = false;\n\n  // This is the function that will be bound to loadCatPicture in the end.\n  return function (filter) {\n    if (isLoading) {\n      console.log('Skipping load, already in progress');\n      return;\n    }\n\n    let img = document.getElementById('cat-picture');\n\n    function finishedLoading() {\n      isLoading = false;\n\n      // Remove unneeded event handlers so `img` can be garbage collected.\n      img.onload = null;\n      img.onerror = null;\n      img = null;\n    }\n    img.onload = finishedLoading;\n    img.onerror = finishedLoading;\n\n    // If the function is called with a filter argument, add that to URL\n    let url = 'https://cataas.com/cat';\n\n    // Add something unique (and meaningless) to the query string, so the browser\n    // won't cache this URL, but always load it again\n    url += '?nocache=' + Date.now();\n\n    if (filter) {\n      console.log('Using cat picture filter', filter);\n      url += '&filter=' + filter;\n    }\n\n    // Finally, set isLoading to true, and begin loading image\n    isLoading = true;\n    img.src = url;\n  };\n})();\n\nlet poemText = document.getElementById('poem-text');\npoemText.onclick = function () {\n  loadCatPicture();\n};\n\nwindow.onkeypress = function (event) {\n  switch (event.key) {\n    case 'b':\n      return loadCatPicture('blur');\n    case 'm':\n      return loadCatPicture('mono');\n    case 's':\n      return loadCatPicture('sepia');\n    case 'n':\n      return loadCatPicture('negative');\n    case 'p':\n      return loadCatPicture('paint');\n    case 'x':\n      return loadCatPicture('pixel');\n    default:\n      console.log('Ignoring key press event');\n      break;\n  }\n};\n"})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>o});var i=t(6540);const s={},c=i.createContext(s);function r(e){const n=i.useContext(c);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),i.createElement(c.Provider,{value:n},e.children)}}}]);